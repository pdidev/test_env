spack:
  concretization: together
  specs:
  - cmake~ownlibs^curl tls=openssl
  - matrix:
    - [ '^cmake~ownlibs' ]
    - [ '^curl tls=openssl' ]
    - [ '^@MPI@' ]
    -
      - bison
      - flex
      - freeglut
      - glew
      - hwloc
      - libiconv
      - libxml2
      - libxmu
      - libxslt
      - mesa~llvm
      - pkgconf
      - py-numpy^intel-mkl
      - py-pyyaml~libyaml
      - swig
      - zlib
      - @MPI@
      - py-mpi4py
      - astyle
      - doxygen
      - flowvr
      - fti~hdf5
      #TODO: fails with recent clang due to https://github.com/google/googletest/issues/3427
      #- googletest+gmock
      #TODO: Workaround https://github.com/spack/spack/issues/28074
      - hdf5@1.12.1
      - libyaml
      - netcdf-c
      - paraconf
      - py-pybind11
      - sionlib@1.7.6:1.999
      - spdlog
      - zpp
